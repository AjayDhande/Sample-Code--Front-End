
<!--========================   Breadcrumb  Start  ======================-->
<div class="container container-fix">
    <div class="row">
        
    <!--========================   Breadcrumb End  ======================-->
        <!--========================   Heading Start  ======================-->
        <div class="col-sm-12">
            <h2 class="heading-title text-left">
                Forgot Username
            </h2>
        </div>
    </div>
      <!--========================   Heading End  ======================-->
    <h5 class="text-left">
        Enter your email below. We will send you an email with your username.
    </h5>
    <!--========================   Sign Up  Start   ======================-->
    <div class="col-sm-5 col-xs-12">
      <form action="<%= find_username_path %>" class="form-horizontal bv-form" method="post" id="all_username" name="form2" >
        <div class="form-group">
          <%= label_tag "email", "Enter Email", class: "required" %><br />
          <input type="text" name="user_email" class="form-control" id="user_email" placeholder="Enter Email" class="btn btn-info">
        </div>

        <div class="form-group">
          <div class="">
           <%#= submit_tag("Submit", class: "btn btn-info", id: "submit")%>
          <!--   <button type="submit" name="commit" class="btn btn-info" value="Submit" id="submit">Submit</button> -->
            <input type="submit" name="commit" class="btn btn-info" value="Submit" id="submit" />
          </div>
        </div>
      </form>
        
    </div>
    <!--========================   Sign Up   End  ======================-->
</div>

<script type="text/javascript">
//validation for email field  
$(function() {
  $.validator.addMethod(
    "regex",
      function(value, element, regexp) {
        var re = new RegExp(regexp);
          return this.optional(element) || re.test(value);
        },
    "Please check your input."
  );
  jQuery('#all_username').validate({
    errorElement:'div',
    rules: {
      "user_email":{
        required: true,
        regex: "^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$",
        remote:'/check_email'
      }
    },
    messages: {
      "user_email":{
        required: "Email field can't be blank",
        regex: "Invalid Email",
        remote: "Email does not exist"
      }
    }
  });
});

$(document).ready(function(){
  $("#submit").click(function(){
    $("#all_username").submit();
  })  
})
</script>